import{j as r}from"./ui-DPZ0E1vL.js";import{u as z}from"./use-translation-CoHJZkub.js";import{A as H}from"./Add-BvI4CHZA.js";import{C as I}from"./Close-D1G5Ogik.js";import{T as w,a as L}from"./TextField-shvFoP5C.js";import{I as k,V as T,a as M}from"./InputAdornment-CfS_hXAI.js";import{r as l}from"./inertia-sC_DM86S.js";import{M as O,B as m,T as V,I as _,b as q}from"./Modal-CTa5naK4.js";import"./vendor-Y7T1HomI.js";import"./app-CypMkPja.js";/* empty css            */import"./clsx-B-dksMZM.js";import"./useSlotProps-CDTHOMr-.js";const U={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"80%",maxWidth:600,bgcolor:"background.paper",border:"none",borderRadius:"24px",boxShadow:24,p:4,maxHeight:"90vh",overflowY:"auto"},Y={display:"grid",gridTemplateColumns:"1fr 1fr",gap:"20px",marginBottom:"16px"},x={"& .MuiOutlinedInput-root":{borderRadius:"20px","& input":{padding:"8px 14px"},"& fieldset":{borderColor:"#ccc"},"&:hover fieldset":{borderColor:"#aaa"},"&.Mui-focused fieldset":{borderColor:"#1976d2"},"&.Mui-error fieldset":{borderColor:"#d32f2f"}},"& .MuiInputLabel-root":{transform:"translate(14px, 14px) scale(1)","&.Mui-focused, &.MuiFormLabel-filled":{transform:"translate(14px, -9px) scale(0.75)"}},"& .MuiFormHelperText-root":{marginLeft:"14px",marginRight:"14px",marginTop:"4px"}};function tr({open:h,onClose:g,onCreate:B}){const{t:s}=z(),[o,p]=l.useState({name:"",email:"",password:"",password_confirmation:""}),[j,C]=l.useState(!1),[y,S]=l.useState(!1),[n,d]=l.useState({}),[D,c]=l.useState({});l.useEffect(()=>{h&&(p({name:"",email:"",password:"",password_confirmation:""}),d({}),c({}),C(!1),S(!1))},[h]);const u=e=>{const{name:a,value:t}=e.target;p(b=>({...b,[a]:t})),n[a]&&d(b=>({...b,[a]:void 0}))},f=e=>{const{name:a}=e.target;c(t=>({...t,[a]:!0})),W(a,o[a])},W=(e,a)=>{const t={...n};switch(e){case"name":a.trim()?delete t.name:t.name=s("users.errors.name_required");break;case"email":a.trim()?/\S+@\S+\.\S+/.test(a)?delete t.email:t.email=s("users.errors.email_invalid"):t.email=s("users.errors.email_required");break;case"password":a?a.length<8?t.password=s("users.errors.password_min_length"):delete t.password:t.password=s("users.errors.password_required");break;case"password_confirmation":a?o.password!==a?t.password_confirmation=s("users.errors.password_mismatch"):delete t.password_confirmation:t.password_confirmation=s("users.errors.password_confirmation_required");break}d(t)},P=()=>{const e={};return o.name.trim()||(e.name=s("users.errors.name_required")),o.email.trim()?/\S+@\S+\.\S+/.test(o.email)||(e.email=s("users.errors.email_invalid")):e.email=s("users.errors.email_required"),o.password?o.password.length<8&&(e.password=s("users.errors.password_min_length")):e.password=s("users.errors.password_required"),o.password_confirmation?o.password!==o.password_confirmation&&(e.password_confirmation=s("users.errors.password_mismatch")):e.password_confirmation=s("users.errors.password_confirmation_required"),d(e),c({name:!0,email:!0,password:!0,password_confirmation:!0}),Object.keys(e).length===0},E=e=>{if(e.preventDefault(),!P())return;console.log("Datos del formulario a enviar:",o);const a={name:o.name,email:o.email,password:o.password,password_confirmation:o.password_confirmation};p({name:"",email:"",password:"",password_confirmation:""}),B(a)},F=()=>{p({name:"",email:"",password:"",password_confirmation:""}),d({}),c({}),g()},R=()=>{C(e=>!e)},A=()=>{S(e=>!e)},v=e=>{e.preventDefault()},i=e=>!!n[e]&&!!D[e];return r.jsx(O,{open:h,onClose:g,children:r.jsxs(m,{sx:U,children:[r.jsxs(m,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2,children:[r.jsxs(m,{display:"flex",alignItems:"center",gap:1,children:[r.jsx(m,{sx:{width:32,height:32,borderRadius:"50%",backgroundColor:"#1976d2",display:"flex",alignItems:"center",justifyContent:"center"},children:r.jsx(H,{sx:{color:"white",fontSize:20}})}),r.jsx(V,{variant:"h5",component:"h2",sx:{fontWeight:"bold",color:"#1976d2"},children:s("users.add")})]}),r.jsx(_,{onClick:g,sx:{color:"text.secondary","&:hover":{backgroundColor:"action.hover"}},"aria-label":s("common.close"),children:r.jsx(I,{})})]}),r.jsxs("form",{onSubmit:E,children:[r.jsxs("div",{style:Y,children:[r.jsx(w,{fullWidth:!0,label:s("users.name"),name:"name",value:o.name,onChange:u,onBlur:f,error:i("name"),helperText:i("name")?n.name:"",sx:x,required:!0}),r.jsx(w,{fullWidth:!0,label:s("users.email"),name:"email",type:"email",value:o.email,onChange:u,onBlur:f,error:i("email"),helperText:i("email")?n.email:"",sx:x,required:!0}),r.jsx(w,{fullWidth:!0,label:s("users.password"),name:"password",type:j?"text":"password",value:o.password,onChange:u,onBlur:f,error:i("password"),helperText:i("password")?n.password:"",sx:x,required:!0,InputProps:{endAdornment:r.jsx(k,{position:"end",children:r.jsx(_,{"aria-label":"toggle password visibility",onClick:R,onMouseDown:v,edge:"end",children:j?r.jsx(T,{}):r.jsx(M,{})})})}}),r.jsx(w,{fullWidth:!0,label:s("users.confirm_password"),name:"password_confirmation",type:y?"text":"password",value:o.password_confirmation,onChange:u,onBlur:f,error:i("password_confirmation"),helperText:i("password_confirmation")?n.password_confirmation:"",sx:x,required:!0,InputProps:{endAdornment:r.jsx(k,{position:"end",children:r.jsx(_,{"aria-label":"toggle password visibility",onClick:A,onMouseDown:v,edge:"end",children:y?r.jsx(T,{}):r.jsx(M,{})})})}})]}),r.jsxs(m,{display:"flex",gap:2,mt:3,children:[r.jsx(q,{variant:"outlined",fullWidth:!0,onClick:F,startIcon:r.jsx(I,{}),sx:{borderRadius:"25px",px:5,py:1.2,textTransform:"uppercase",borderColor:"#1976D2",color:"#1976D2",fontWeight:600,fontSize:"0.875rem",letterSpacing:"0.5px","&:hover":{borderColor:"#1976D2",backgroundColor:"rgba(25, 118, 210, 0.04)"}},children:s("common.cancel")}),r.jsx(q,{type:"submit",variant:"contained",color:"primary",fullWidth:!0,sx:{borderRadius:"20px",height:"40px",minHeight:"40px",fontSize:"1rem",fontWeight:"bold",display:"flex",alignItems:"center",gap:1},startIcon:r.jsx(L,{}),children:s("common.save")})]})]})]})})}export{tr as default};
