import{j as e}from"./ui-DPZ0E1vL.js";import{B as n}from"./createLucideIcon-DlLlIvzF.js";import{D as S,a as k,b as E,c as q,d as F,e as I}from"./dialog-BkQECfOY.js";import{I as j}from"./input-QB1JgeF0.js";import{L as h}from"./label-CsJefCpJ.js";import{u as O}from"./app-CypMkPja.js";import{C as T}from"./Close-D1G5Ogik.js";import{r as g,R as z}from"./inertia-sC_DM86S.js";import{F as D}from"./file-spreadsheet-LLuUiaHo.js";import{C as b}from"./calendar-Cx_uuBsB.js";import{D as R}from"./download-PVpG6pep.js";import"./vendor-Y7T1HomI.js";import"./clsx-B-dksMZM.js";import"./x-Bg57hL6E.js";/* empty css            */const Y=({open:m,onClose:N,onExport:v,loading:p=!1})=>{const{t}=O(),[a,c]=g.useState(""),[r,d]=g.useState(""),[l,o]=g.useState({}),y=()=>{const s=new Date;return s.setDate(s.getDate()-30),s.toISOString().split("T")[0]},w=()=>new Date().toISOString().split("T")[0];z.useEffect(()=>{m&&!a&&!r&&(c(y()),d(w()))},[m]);const _=()=>{const s={};return a||(s.startDate=t("excel.export.validation.start_date_required")),r||(s.endDate=t("excel.export.validation.end_date_required")),a&&r&&new Date(a)>new Date(r)&&(s.endDate=t("excel.export.validation.end_date_after_start")),o(s),Object.keys(s).length===0},C=()=>{_()&&v(a,r)},f=()=>{c(""),d(""),o({}),N()},x=s=>{const i=new Date,u=new Date;u.setDate(u.getDate()-s),c(u.toISOString().split("T")[0]),d(i.toISOString().split("T")[0]),o({})};return e.jsx(S,{open:m,onOpenChange:f,children:e.jsxs(k,{className:"sm:max-w-[480px]",children:[e.jsxs(E,{children:[e.jsxs(q,{className:"flex items-center gap-2 text-xl font-bold",children:[e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-gradient-to-br from-green-500 to-green-700 shadow-lg",children:e.jsx(D,{className:"h-5 w-5 text-white"})}),t("excel.export.title")]}),e.jsx(F,{className:"ml-13 text-gray-600",children:t("excel.export.description")})]}),e.jsxs("div",{className:"space-y-6 py-4",children:[e.jsxs("div",{children:[e.jsx(h,{className:"text-sm font-medium text-gray-700",children:t("excel.export.quick_ranges")}),e.jsxs("div",{className:"mt-2 flex flex-wrap gap-2",children:[e.jsx(n,{type:"button",variant:"outline",size:"sm",onClick:()=>x(7),className:"text-xs",children:t("excel.export.quick_ranges.7_days")}),e.jsx(n,{type:"button",variant:"outline",size:"sm",onClick:()=>x(30),className:"text-xs",children:t("excel.export.quick_ranges.30_days")}),e.jsx(n,{type:"button",variant:"outline",size:"sm",onClick:()=>x(90),className:"text-xs",children:t("excel.export.quick_ranges.3_months")}),e.jsx(n,{type:"button",variant:"outline",size:"sm",onClick:()=>x(365),className:"text-xs",children:t("excel.export.quick_ranges.1_year")})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(h,{htmlFor:"startDate",className:"text-sm font-medium text-gray-700",children:t("excel.export.start_date")}),e.jsxs("div",{className:"relative",children:[e.jsx(j,{id:"startDate",type:"date",value:a,onChange:s=>{c(s.target.value),o(i=>({...i,startDate:void 0}))},className:`pl-10 ${l.startDate?"border-red-500":""}`}),e.jsx(b,{className:"absolute top-1/2 left-3 h-4 w-4 -translate-y-1/2 text-gray-400"})]}),l.startDate&&e.jsx("p",{className:"text-sm text-red-600",children:l.startDate})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(h,{htmlFor:"endDate",className:"text-sm font-medium text-gray-700",children:t("excel.export.end_date")}),e.jsxs("div",{className:"relative",children:[e.jsx(j,{id:"endDate",type:"date",value:r,onChange:s=>{d(s.target.value),o(i=>({...i,endDate:void 0}))},className:`pl-10 ${l.endDate?"border-red-500":""}`}),e.jsx(b,{className:"absolute top-1/2 left-3 h-4 w-4 -translate-y-1/2 text-gray-400"})]}),l.endDate&&e.jsx("p",{className:"text-sm text-red-600",children:l.endDate})]})]}),e.jsx("div",{className:"rounded-lg bg-blue-50 p-4",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx(D,{className:"mt-0.5 mr-3 h-5 w-5 text-blue-600"}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-blue-900",children:t("excel.export.report_content")}),e.jsx("p",{className:"mt-1 text-sm text-blue-700",children:t("excel.export.report_description")})]})]})})]}),e.jsxs(I,{className:"flex gap-3",children:[e.jsxs(n,{type:"button",variant:"outline",onClick:f,disabled:p,className:"flex items-center gap-2 rounded-full border-2 border-blue-600 px-6 py-2 text-sm font-semibold tracking-wide text-blue-600 uppercase transition-colors hover:bg-blue-50",children:[e.jsx(T,{sx:{fontSize:16}}),t("common.cancel")]}),e.jsx(n,{type:"button",onClick:C,disabled:p,className:"flex min-h-[40px] items-center gap-2 rounded-2xl bg-gradient-to-r from-green-600 to-green-700 px-6 py-2 text-base font-bold text-white transition-all hover:from-green-700 hover:to-green-800",children:p?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border-2 border-white border-t-transparent"}),t("excel.export.generating")]}):e.jsxs(e.Fragment,{children:[e.jsx(R,{className:"h-4 w-4"}),t("excel.export.download")]})})]})]})})};export{Y as default};
