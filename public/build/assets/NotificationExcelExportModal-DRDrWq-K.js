import{j as e}from"./ui-DPZ0E1vL.js";import{B as o}from"./createLucideIcon-DlLlIvzF.js";import{D as k,a as E,b as T,c as F,d as I,e as O}from"./dialog-BkQECfOY.js";import{I as D}from"./input-QB1JgeF0.js";import{L as g}from"./label-CsJefCpJ.js";import{u as z}from"./app-CypMkPja.js";import{C as M}from"./Close-D1G5Ogik.js";import{r as f}from"./inertia-sC_DM86S.js";import{F as q}from"./file-spreadsheet-LLuUiaHo.js";import{M as N}from"./mail-C57-QiH1.js";import{C as b}from"./calendar-Cx_uuBsB.js";import{D as B}from"./download-PVpG6pep.js";import"./vendor-Y7T1HomI.js";import"./clsx-B-dksMZM.js";import"./x-Bg57hL6E.js";/* empty css            */const ee=({open:p,onClose:v,onExport:w,loading:h=!1})=>{const{t}=z(),[a,d]=f.useState(""),[i,x]=f.useState(""),[r,l]=f.useState({}),y=()=>{const s=new Date;return s.setDate(s.getDate()-30),s.toISOString().split("T")[0]},_=()=>new Date().toISOString().split("T")[0];f.useEffect(()=>{p&&!a&&!i&&(d(y()),x(_()))},[p]);const C=()=>{const s={};if(a||(s.startDate=t("notifications.excel.validation.start_required")),i||(s.endDate=t("notifications.excel.validation.end_required")),a&&i&&new Date(a)>new Date(i)&&(s.endDate=t("notifications.excel.validation.end_after_start")),a&&i){const n=new Date(a),c=new Date(i),j=Math.ceil((c.getTime()-n.getTime())/(1e3*60*60*24));j>365&&(s.endDate=t("notifications.excel.validation.max_range")),j>90&&console.warn(t("notifications.excel.validation.large_range_warning"))}return l(s),Object.keys(s).length===0},S=()=>{C()&&w(a,i)},u=()=>{d(""),x(""),l({}),v()},m=s=>{const n=new Date,c=new Date;c.setDate(c.getDate()-s),d(c.toISOString().split("T")[0]),x(n.toISOString().split("T")[0]),l({})};return e.jsx(k,{open:p,onOpenChange:u,children:e.jsxs(E,{className:"sm:max-w-[480px]",children:[e.jsxs(T,{children:[e.jsxs(F,{className:"flex items-center gap-3 text-xl font-bold",children:[e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-gradient-to-br from-green-500 to-green-700 shadow-lg",children:e.jsx(q,{className:"h-5 w-5 text-white"})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{children:t("notifications.excel.title")}),e.jsx(N,{className:"h-6 w-6 text-green-600"})]})]}),e.jsxs(I,{className:"ml-13 text-gray-600",children:["ðŸ“Š ",t("notifications.excel.description")]})]}),e.jsxs("div",{className:"space-y-6 py-4",children:[e.jsxs("div",{children:[e.jsx(g,{className:"text-sm font-medium text-gray-700",children:t("notifications.excel.quick_ranges")}),e.jsxs("div",{className:"mt-2 flex flex-wrap gap-2",children:[e.jsx(o,{type:"button",variant:"outline",size:"sm",onClick:()=>m(7),className:"text-xs",children:t("notifications.excel.last_7_days")}),e.jsx(o,{type:"button",variant:"outline",size:"sm",onClick:()=>m(30),className:"text-xs",children:t("notifications.excel.last_30_days")}),e.jsx(o,{type:"button",variant:"outline",size:"sm",onClick:()=>m(90),className:"text-xs",children:t("notifications.excel.last_3_months")}),e.jsx(o,{type:"button",variant:"outline",size:"sm",onClick:()=>m(365),className:"text-xs",children:t("notifications.excel.last_year")})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(g,{htmlFor:"startDate",className:"text-sm font-medium text-gray-700",children:t("notifications.excel.start_date")}),e.jsxs("div",{className:"relative",children:[e.jsx(D,{id:"startDate",type:"date",value:a,onChange:s=>{d(s.target.value),l(n=>({...n,startDate:void 0}))},className:`pl-10 ${r.startDate?"border-red-500":""}`}),e.jsx(b,{className:"absolute top-1/2 left-3 h-4 w-4 -translate-y-1/2 text-gray-400"})]}),r.startDate&&e.jsx("p",{className:"text-sm text-red-600",children:r.startDate})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(g,{htmlFor:"endDate",className:"text-sm font-medium text-gray-700",children:t("notifications.excel.end_date")}),e.jsxs("div",{className:"relative",children:[e.jsx(D,{id:"endDate",type:"date",value:i,onChange:s=>{x(s.target.value),l(n=>({...n,endDate:void 0}))},className:`pl-10 ${r.endDate?"border-red-500":""}`}),e.jsx(b,{className:"absolute top-1/2 left-3 h-4 w-4 -translate-y-1/2 text-gray-400"})]}),r.endDate&&e.jsx("p",{className:"text-sm text-red-600",children:r.endDate})]})]}),e.jsx("div",{className:"rounded-lg bg-blue-50 p-4",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx(N,{className:"mt-0.5 mr-3 h-5 w-5 text-blue-600"}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-blue-900",children:t("notifications.excel.report_content")}),e.jsx("p",{className:"mt-1 text-sm text-blue-700",children:t("notifications.excel.report_description")})]})]})})]}),e.jsxs(O,{className:"flex gap-3",children:[e.jsxs(o,{type:"button",variant:"outline",onClick:u,disabled:h,className:"flex items-center gap-2 rounded-full border-2 border-blue-600 px-6 py-2 text-sm font-semibold tracking-wide text-blue-600 uppercase transition-colors hover:bg-blue-50",children:[e.jsx(M,{sx:{fontSize:16}}),t("notifications.excel.cancel")]}),e.jsx(o,{type:"button",onClick:S,disabled:h,className:"flex min-h-[40px] items-center gap-2 rounded-2xl bg-gradient-to-r from-green-600 to-green-700 px-6 py-2 text-base font-bold text-white transition-all hover:from-green-700 hover:to-green-800",children:h?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border-2 border-white border-t-transparent"}),t("notifications.excel.generating")]}):e.jsxs(e.Fragment,{children:[e.jsx(B,{className:"h-4 w-4"}),t("notifications.excel.download")]})})]})]})})};export{ee as default};
