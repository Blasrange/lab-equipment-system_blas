import{j as e}from"./ui-DPZ0E1vL.js";import{u as j}from"./use-translation-CoHJZkub.js";import{C as p}from"./Close-D1G5Ogik.js";import{E as C}from"./Edit-xAXkYsFL.js";import{T as n,a as I}from"./TextField-shvFoP5C.js";import{r as b}from"./inertia-sC_DM86S.js";import{M as k,B as s,T as S,I as W,b as h}from"./Modal-CTa5naK4.js";import{F as M,S as T}from"./Switch-BcopnTFx.js";import"./vendor-Y7T1HomI.js";import"./app-CypMkPja.js";/* empty css            */import"./clsx-B-dksMZM.js";import"./useSlotProps-CDTHOMr-.js";const w={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"80%",maxWidth:900,bgcolor:"background.paper",border:"none",borderRadius:"24px",boxShadow:24,p:4,maxHeight:"90vh",overflowY:"auto"},m={display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"16px",marginBottom:"16px"},l={"& .MuiOutlinedInput-root":{borderRadius:"20px",height:"40px","& input":{padding:"8px 14px"},"& fieldset":{borderColor:"#ccc"},"&:hover fieldset":{borderColor:"#aaa"},"&.Mui-focused fieldset":{borderColor:"#1976d2"}},"& .MuiInputLabel-root":{transform:"translate(14px, 10px) scale(1)","&.Mui-focused, &.MuiFormLabel-filled":{transform:"translate(14px, -9px) scale(0.75)"}}},_={"& .MuiOutlinedInput-root":{borderRadius:"20px",height:"40px","& input":{padding:"8px 14px",fontSize:"0.875rem"},"& fieldset":{borderColor:"#ccc"},"&:hover fieldset":{borderColor:"#aaa"},"&.Mui-focused fieldset":{borderColor:"#1976d2"}},"& .MuiInputLabel-root":{transform:"translate(14px, -9px) scale(0.75)",transformOrigin:"top left","&.Mui-focused":{transform:"translate(14px, -9px) scale(0.75)",color:"#1976d2"}}};function A({open:f,onClose:d,onUpdate:g,equipment:t}){const{t:r}=j(),c=o=>{if(!o)return"";const x=new Date(o);return isNaN(x.getTime())?"":x.toISOString().split("T")[0]},[a,u]=b.useState({instrument:t?.instrument||"",int_code:t?.int_code||"",brand:t?.brand||"",model:t?.model||"",serial_number:t?.serial_number||"",system_number:t?.system_number||"",ext_calibration_periodicity:t?.ext_calibration_periodicity||"",internal_check_periodicity:t?.internal_check_periodicity||"",last_ext_calibration:c(t?.last_ext_calibration),next_ext_calibration:c(t?.next_ext_calibration),active:t?.active??!0});b.useEffect(()=>{u({instrument:t?.instrument||"",int_code:t?.int_code||"",brand:t?.brand||"",model:t?.model||"",serial_number:t?.serial_number||"",system_number:t?.system_number||"",ext_calibration_periodicity:t?.ext_calibration_periodicity||"",internal_check_periodicity:t?.internal_check_periodicity||"",last_ext_calibration:c(t?.last_ext_calibration),next_ext_calibration:c(t?.next_ext_calibration),active:t?.active??!0})},[t]);const i=o=>{u({...a,[o.target.name]:o.target.value})},y=o=>{o.preventDefault(),g(a),d()},v=()=>{d()};return e.jsx(k,{open:f,onClose:d,children:e.jsxs(s,{sx:w,children:[e.jsxs(s,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2,children:[e.jsxs(s,{display:"flex",alignItems:"center",gap:1,children:[e.jsx(s,{sx:{width:32,height:32,borderRadius:"50%",backgroundColor:"#1976d2",display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(C,{sx:{color:"white",fontSize:18}})}),e.jsx(S,{variant:"h5",component:"h2",sx:{fontWeight:"bold",color:"#1976d2"},children:r("equipment.edit")})]}),e.jsx(W,{onClick:d,sx:{color:"text.secondary","&:hover":{backgroundColor:"action.hover"}},"aria-label":r("common.close"),children:e.jsx(p,{})})]}),e.jsxs("form",{onSubmit:y,children:[e.jsxs("div",{style:m,children:[e.jsx(n,{fullWidth:!0,margin:"dense",label:r("equipment.name"),name:"instrument",value:a.instrument,onChange:i,sx:l}),e.jsx(n,{fullWidth:!0,margin:"dense",label:r("equipment.code"),name:"int_code",value:a.int_code,onChange:i,sx:l}),e.jsx(n,{fullWidth:!0,margin:"dense",label:r("equipment.brand"),name:"brand",value:a.brand,onChange:i,sx:l})]}),e.jsxs("div",{style:m,children:[e.jsx(n,{fullWidth:!0,margin:"dense",label:r("equipment.model"),name:"model",value:a.model,onChange:i,sx:l}),e.jsx(n,{fullWidth:!0,margin:"dense",label:r("equipment.serial"),name:"serial_number",value:a.serial_number,onChange:i,sx:l}),e.jsx(n,{fullWidth:!0,margin:"dense",label:r("equipment.system_number"),name:"system_number",value:a.system_number,onChange:i,sx:l})]}),e.jsxs("div",{style:m,children:[e.jsx(n,{fullWidth:!0,margin:"dense",label:r("equipment.ext_calibration_periodicity"),name:"ext_calibration_periodicity",value:a.ext_calibration_periodicity,onChange:i,sx:l}),e.jsx(n,{fullWidth:!0,margin:"dense",label:r("equipment.internal_check_periodicity"),name:"internal_check_periodicity",value:a.internal_check_periodicity,onChange:i,sx:l}),e.jsx(M,{control:e.jsx(T,{checked:a.active,onChange:(o,x)=>u({...a,active:x}),color:"primary"}),label:a.active?r("status.active"):r("status.inactive"),sx:{mt:2,ml:2}})]}),e.jsxs("div",{style:{...m,gridTemplateColumns:"repeat(2, 1fr)"},children:[e.jsx(n,{fullWidth:!0,margin:"dense",label:r("equipment.last_ext_calibration"),name:"last_ext_calibration",type:"date",value:a.last_ext_calibration,onChange:i,sx:_,InputLabelProps:{shrink:!0}}),e.jsx(n,{fullWidth:!0,margin:"dense",label:r("equipment.next_ext_calibration"),name:"next_ext_calibration",type:"date",value:a.next_ext_calibration,onChange:i,sx:_,InputLabelProps:{shrink:!0}})]}),e.jsxs(s,{display:"flex",gap:2,mt:3,children:[e.jsx(h,{variant:"outlined",fullWidth:!0,onClick:v,startIcon:e.jsx(p,{}),sx:{borderRadius:"25px",px:5,py:1.2,textTransform:"uppercase",borderColor:"#1976D2",color:"#1976D2",fontWeight:600,fontSize:"0.875rem",letterSpacing:"0.5px","&:hover":{borderColor:"#1976D2",backgroundColor:"rgba(25, 118, 210, 0.04)"}},children:r("common.cancel")}),e.jsx(h,{type:"submit",variant:"contained",color:"primary",fullWidth:!0,sx:{borderRadius:"20px",height:"40px",minHeight:"40px",fontSize:"1rem",fontWeight:"bold",display:"flex",alignItems:"center",gap:1},startIcon:e.jsx(I,{}),children:r("common.update")})]})]})]})})}export{A as default};
